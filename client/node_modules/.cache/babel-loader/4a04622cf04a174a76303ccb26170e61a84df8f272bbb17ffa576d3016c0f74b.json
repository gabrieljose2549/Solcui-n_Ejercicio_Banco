{"ast":null,"code":"var _jsxFileName = \"/Users/josemontero/Documents/Pasanti\\u0301as/Code/Actividad/BANCO/client/src/Components/Users.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { Link, useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Users = props => {\n  _s();\n  const {\n    token\n  } = props;\n  const [userList, setUserList] = useState([]);\n  let navigation = useNavigate();\n  useEffect(() => {\n    console.log(token);\n    axios.get(\"http://localhost:8000/api/users\", {\n      headers: {\n        Authorization: \"Bearer \" + token\n      }\n    }).then(users => setUserList(users.data)).catch(err => console.log(err));\n  }, []);\n  const updateUserDom = userId => {\n    setUserList(userList.filter(user => user._id !== userId));\n  };\n  const deleteHandler = userId => {\n    axios.delete('http://localhost:8000/api/user/' + userId, {\n      headers: {\n        Authorization: \"Bearer \" + token\n      }\n    }).then(res => {\n      console.log(res);\n      updateUserDom(userId);\n    }).catch(err => console.log(err));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Lista de usuarios\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 13\n    }, this), userList.map((user, i) => {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: '/api/user/' + user._id,\n          children: user.userName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: e => deleteHandler(user._id),\n          children: \"Borrar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 25\n        }, this)]\n      }, i, true, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 28\n      }, this);\n    }), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: e => {\n        navigation('/api/user/new');\n      },\n      children: \"Nuevo\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 9\n  }, this);\n};\n_s(Users, \"+ayTNiVaGFZkGPPceBjpSGITzQA=\", false, function () {\n  return [useNavigate];\n});\n_c = Users;\nexport default Users;\nvar _c;\n$RefreshReg$(_c, \"Users\");","map":{"version":3,"names":["useEffect","useState","axios","Link","useNavigate","jsxDEV","_jsxDEV","Users","props","_s","token","userList","setUserList","navigation","console","log","get","headers","Authorization","then","users","data","catch","err","updateUserDom","userId","filter","user","_id","deleteHandler","delete","res","children","fileName","_jsxFileName","lineNumber","columnNumber","map","i","to","userName","onClick","e","_c","$RefreshReg$"],"sources":["/Users/josemontero/Documents/PasantiÌas/Code/Actividad/BANCO/client/src/Components/Users.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Link, useNavigate } from 'react-router-dom';\r\n\r\nconst Users = (props) =>{\r\n    const {token} = props;\r\n    const [ userList, setUserList ] = useState([]);\r\n    let navigation = useNavigate();\r\n    useEffect(()=>{\r\n        console.log(token);\r\n        axios.get(\"http://localhost:8000/api/users\", {headers: { Authorization: \"Bearer \" + token },})\r\n        .then((users) => setUserList(users.data))\r\n        .catch((err) => console.log(err))\r\n    }, []);\r\n\r\n    const updateUserDom = (userId) =>{\r\n        setUserList(userList.filter(user => user._id !== userId));\r\n    }\r\n\r\n    const deleteHandler = (userId) =>{\r\n        axios.delete('http://localhost:8000/api/user/' + userId, {headers: { Authorization: \"Bearer \" + token },})\r\n            .then( res => {\r\n                console.log(res);\r\n                updateUserDom(userId);\r\n            })\r\n            .catch( err => console.log(err))\r\n    }\r\n\r\n    return(\r\n        <div>\r\n            <h1>Lista de usuarios</h1>\r\n            \r\n            {\r\n                userList.map((user, i) =>{\r\n                    return <p key={i}>\r\n                        <Link to={'/api/user/' + user._id}>{user.userName}</Link>\r\n                        <button onClick={(e)=>deleteHandler(user._id)}>Borrar</button>\r\n                    </p> \r\n                })\r\n            }\r\n            <button onClick={(e)=>{navigation('/api/user/new')}}>Nuevo</button>\r\n            \r\n        </div>\r\n    );\r\n}\r\n\r\n\r\nexport default Users;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}